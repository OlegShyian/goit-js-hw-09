{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEaC,SAASC,cAAc,QAC/BC,iBAAiB,UAOtB,SAA0BC,GACxBA,EAAEC,iBACF,IAAIC,KAAEA,EAAIC,OAAEA,EAAQC,MAAAC,GAAU,CAC5BD,MAAOE,OAAON,EAAEO,OAAOH,MAAMI,OAC7BN,KAAMI,OAAON,EAAEO,OAAOL,KAAKM,OAC3BL,OAAQG,OAAON,EAAEO,OAAOJ,OAAOK,QAGjC,IAAK,IAAIC,EAAI,EAAGA,EAAIN,EAAQM,IAC1BC,EAAcD,EAAI,EAAGJ,GAClBM,MAAK,EAACC,SAAEA,EAAQR,MAAEA,KACjBS,YAAW,KACTC,EACEC,EACA,mBAAmBH,QAAeR,SAEnCA,KAEJY,OAAM,EAACJ,SAAEA,EAAQR,MAAEA,KAClBS,YAAW,KACTC,EACEC,EACA,oBAAoBH,QAAeR,SAEpCA,KAEPC,GAASH,KA/Bb,MAAMa,EACK,UADLA,EAEE,UAiCR,SAASL,EAAcE,EAAUR,GAC/B,MAAMa,EAAO,C,SAAEL,E,MAAUR,GACnBc,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,IACvBL,EACKI,EAAQL,GAERM,EAAON,KAKpB,SAASH,EAAWU,EAAMC,EAASC,EAAU,KAC3C/B,EAAAgC,OAAOH,GAAMC,EAAS,C,QAAEC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst form = document.querySelector('form');\nform.addEventListener('submit', generatePromises);\n\nconst notifyTypes = {\n  success: 'success',\n  fail: 'failure',\n};\n\nfunction generatePromises(e) {\n  e.preventDefault();\n  let { step, amount, delay } = {\n    delay: Number(e.target.delay.value),\n    step: Number(e.target.step.value),\n    amount: Number(e.target.amount.value),\n  };\n\n  for (let i = 0; i < amount; i++) {\n    createPromise(i + 1, delay)\n      .then(({ position, delay }) =>\n        setTimeout(() => {\n          showNotify(\n            notifyTypes.success,\n            `Fulfill promise ${position} in ${delay}ms`\n          );\n        }, delay)\n      )\n      .catch(({ position, delay }) =>\n        setTimeout(() => {\n          showNotify(\n            notifyTypes.fail,\n            `Rejected promise ${position} in ${delay}ms`\n          );\n        }, delay)\n      );\n    delay += step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const data = { position, delay };\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      return resolve(data);\n    } else {\n      return reject(data);\n    }\n  });\n}\n\nfunction showNotify(type, message, timeout = 4000) {\n  Notify[type](message, { timeout });\n}\n"],"names":["$iQIUW","parcelRequire","document","querySelector","addEventListener","e","preventDefault","step","amount","delay","delay1","Number","target","value","i","$47d4ff9957288465$var$createPromise","then","position","setTimeout","$47d4ff9957288465$var$showNotify","$47d4ff9957288465$var$notifyTypes","catch","data","shouldResolve","Math","random","Promise","resolve","reject","type","message","timeout","Notify"],"version":3,"file":"03-promises.160a5f6c.js.map"}